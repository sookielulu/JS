<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>闭包</title>
    <script>
        window.onload = function () {
            //闭包：有权访问另一个函数的内部变量 的函数
            function outFun() {
                var num = 10;

                function inFun() {
                    console.log(num);
                }
                return inFun;  //返回函数体。若inFun()，则表示调用函数
            }


            //使用
            var demo = outFun();
            console.log(demo);
            demo();



            //测试题
            function outerFun() {
                var a = 0;
                function innerFun() {
                    a++;
                    alert(a);
                }
                return innerFun;
                //也可不要33行，29行改为 return function(){}
            }
            var obj1 = outerFun();
            //36行其实就相当于 obj1 = function innerFun(){a++; alert(a);}
            obj1(); obj1();  //1  2
            var obj2 = outerFun();//当再次调用函数时，a又为0
            obj2(); obj2();  //1  2
        }
    </script>
</head>
<body>

</body>
</html>


















