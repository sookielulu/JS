<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>检测字符串长度</title>
    <script>
        window.onload = function () {
            var txt = "what are you 弄啥嘞";
            console.log(txt.length);
            //注意：1个汉字占2个字节，显示结果是16(length把每个字符长度都看作1)，但实际结果应为19。            //     所以应用unicode编码处理。

            function getStringLength(str) {
                var len = 0;  //总长度
                var c = 0;    //存储每一个编码
                for (var i=0; i<str.length; i++) {
                    c = str.charCodeAt(i);
                    if (c>=0 && c<=127) {   //0-127为基础，长度均为1
                        len++;
                    }else {
                        len += 2;
                    }
                }
                return len;
            }
            console.log(getStringLength(txt));
        }
    </script>
</head>
<body>

</body>
</html>