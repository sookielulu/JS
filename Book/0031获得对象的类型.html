<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>获得对象的类型</title>
	<script type="text/javascript">
		
		function Person () {}
		var p = new Person();

		// 1、获得对象的构造函数
		var ctr = p.constructor;
		// 2、将函数转换为字符串
		var s = "" + ctr;
		// 3、将function与()直接的字符串截取出来
		// alert(s);
		
		// 3.1 传统的字符串处理函数
		// var start = s.replace("function", "|").indexOf('|');
		// if (start != -1) {
		// 	var end = s.replace("function", "|").indexOf('(');
		// 	if (end != -1) {
		// 		var name = s.replace("function", "|").slice(start + 2, end);
		// 		alert("|" + name + "|");
		// 	}
		// }

		//  简化1，将重复的字符串处理合并，利用一个变量来描述
		s = s.replace("function", "|");
		//  简化2，if嵌套if 代码很复杂
		//  获得开始的索引，获得结束的索引，如果索引符合要求，就获得字符串
		var start = s.indexOf('|');
		var end = s.indexOf('(');
		if (start != -1  &&  end != -1 {
			var name = s.slice(start + 2, end);
			alert("|" + name + "|");
		}


		// 3.2 利用正则表达式进行处理（正则表达式：用来匹配的字符串）
		var r = /function (.+?)\(/;
		var name = r.exec(s)[1];
		alert("|" + name + "|");


		// 3.3 函数有一个属性，叫name  该属性表示函数的名字
		alert(ctr.name);  //IE8不支持
	</script>
</head>
<body>
	
</body>
</html>